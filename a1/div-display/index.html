<html>
  <head>
    <title>Parcel Sandbox</title>
    <meta charset="UTF-8" />
  </head>
<style>
body {
  font-family: sans-serif;
}

input {
  padding: 5px;
  font-size: large;
}

#app {
  display: flex;
  flex-wrap: wrap;
}

.item {
  /* min-width: 20ch; */
  /* max-width: 20ch; */
  flex: 1 1 0;
  min-width: 30ch;
  /* max-width: 30ch; */
  height: 20vh;
  text-align: center;
  background: #4287f5;
  margin: 1ch;
  display: flex;
  align-content: center;
  padding: 2ch;
  border-radius: 1ch;
}

</style>
  <body>
    <label>number of items : </label>
    <input placeholder="number of items" type="number" />
    <a href="/" style="float:right">Go back</a>
    <hr />
    <div id="app"></div>
    <script src="src/index.ts"></script>
  </body>

<script>
const dq = (a) => document.querySelector(a);

dq("#app").innerHTML = `
  <div>Add items in the above input</div>
`;
var a = [
  "",
  "one ",
  "two ",
  "three ",
  "four ",
  "five ",
  "six ",
  "seven ",
  "eight ",
  "nine ",
  "ten ",
  "eleven ",
  "twelve ",
  "thirteen ",
  "fourteen ",
  "fifteen ",
  "sixteen ",
  "seventeen ",
  "eighteen ",
  "nineteen "
];
var b = [
  "",
  "",
  "twenty",
  "thirty",
  "forty",
  "fifty",
  "sixty",
  "seventy",
  "eighty",
  "ninety"
];

function inWords(num) {
  if ((num = num.toString()).length > 9) return "overflow";
  let n = ("000000000" + num)
    .substr(-9)
    .match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);
  if (!n) return;
  var str = "";
  str +=
    n[1] != 0
      ? (a[Number(n[1])] || b[n[1][0]] + " " + a[n[1][1]]) + "crore "
      : "";
  str +=
    n[2] != 0
      ? (a[Number(n[2])] || b[n[2][0]] + " " + a[n[2][1]]) + "lakh "
      : "";
  str +=
    n[3] != 0
      ? (a[Number(n[3])] || b[n[3][0]] + " " + a[n[3][1]]) + "thousand "
      : "";
  str +=
    n[4] != 0
      ? (a[Number(n[4])] || b[n[4][0]] + " " + a[n[4][1]]) + "hundred "
      : "";
  str +=
    n[5] != 0
      ? (str != "" ? "and " : "") +
        (a[Number(n[5])] || b[n[5][0]] + " " + a[n[5][1]])
      : "";
  return str;
}

dq("input")?.addEventListener("change", (e) => {
  if (parseInt(e.target.value) > 0) {
    let divs = "";
    for (let i = 0; i < parseInt(e.target.value); i++) {
      divs += `<div class="item div${i + 1}">${inWords(
        i + 1
      )?.toUpperCase()}</div> \n`;
    }
    dq("#app").innerHTML = divs;
  }
});

</script>
</html>

